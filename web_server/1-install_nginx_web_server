#!/bin/bash

# Update package list and install nginx
sudo apt update
sudo apt install -y nginx

# Ensure nginx is listening on port 80
sudo sed -i 's/listen 80 default_server;/listen 80;/' /etc/nginx/sites-available/default

# Modify the default nginx page to include "Holberton School"
echo "<!DOCTYPE html>
<html>
<head>
    <title>Welcome to Holberton School!</title>
</head>
<body>
    <h1>Holberton School</h1>
</body>
</html>" | sudo tee /var/www/html/index.nginx-debian.html > /dev/null

# Restart nginx without using systemctl
sudo service nginx restart

# Verify nginx is running
curl -s 127.0.0.1 | grep "Holberton School"

# Output status
if [ $? -eq 0 ]; then
    echo "Nginx is configured correctly and serving the 'Holberton School' page."
else
    echo "Nginx configuration failed."
fi
